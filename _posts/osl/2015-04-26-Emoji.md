---
layout: page-fullwidth
title: KJEmoji表情控件
teaser: 一款Emoji表情控件。最大的优势在于其灵活性，支持单种类的表情或分类Emoji表情以及自定义表情的显示，可以使用在任何EditText的输入，可以在任何TextView中显示。<br>你可以自由配置每个Emojicon图标所代表的文字，示例：<a href="https://git.oschina.net/kymjs/KJEmoji/blob/master/KJEmojiLibrary/src/org/kymjs/emoji/model/DisplayRules.java">DisplayRules</a><br /></p>

subheadline: 开源UI库
header: no
osl: 
    ui: true
---
<h2 id="section">功能简介</h2>
<ul>
  <li>项目地址：<a href="http://git.oschina.net/kymjs/KJEmoji">http://git.oschina.net/kymjs/KJEmoji</a></li>
</ul>

<p>最大的优势在于其灵活性，支持单种类的表情或分类Emoji表情以及自定义表情的显示，可以使用在任何EditText的输入，可以在任何TextView中显示。<br />
你可以自由配置每个Emojicon图标所代表的文字，示例：<a href="https://git.oschina.net/kymjs/KJEmoji/blob/master/KJEmojiLibrary/src/org/kymjs/emoji/model/DisplayRules.java">DisplayRules</a><br /></p>

<p>KJEMOJI2(0, 2, R.drawable.smiley_1, “[02]”);<br />
&gt; 表示这个属性叫KJEMOJI2，<br />
&gt; 在ViewPager中的第0页，<br />
&gt; 它对应的值是2(这个是为了方便区分，如果不需要可以传任意值)，<br />
&gt; 资源名是smiley_1，<br />
&gt; 当复制时(或在服务器传输时)替代的文字是”[02]”。<br /></p>

<p>在解析时，同样支持根据自定义符号解析，比如你可以以[02]表示一个表情，也可以以”:hello:”表示一个表情。</p>

<h2 id="section-1">使用方法</h2>

<h3 id="section-2">基础用法</h3>

<p>public class MainActivity extends FragmentActivity implements
        OnSendClickListener {</p>

<pre><code>private KJEmojiFragment emojiFragment;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    emojiFragment = new KJEmojiFragment();
    getSupportFragmentManager().beginTransaction()
            .replace(R.id.root, emojiFragment).commit();
}

@Override
public void onClickSendButton(Editable str) {
    Toast.makeText(this, str.toString(), Toast.LENGTH_SHORT).show();
} }
</code></pre>

<h3 id="textview">在TextView中显示</h3>

<p>/**<br />
   * @param res Resource对象<br />
   * @param str 要显示的包含Emoji表情字符的字符串<br />
   * @param flagStart 表情解析的起始标记<br />
   * @param flagEnd 表情解析的结束标记<br />
   */<br />
  InputHelper.displayEmoji(Resources res, String str,
              String flagStart, String flagEnd);<br /></p>

<h3 id="section-3">更多高级配置</h3>
<p>参看代码注释<a href="https://git.oschina.net/kymjs/KJEmoji/blob/master/KJEmojiLibrary/src/org/kymjs/emoji/model/KJEmojiConfig.java">KJEmojiConfig</a></p>

<h3 id="emojiemoji">截图(左侧为多种Emoji表情，右侧为仅一种Emoji表情的显示)</h3>
<p><a href="http://www.kymjs.com/"><img src="http://www.kymjs.com/image/kjemoji/KJEmoji.gif" height="400" width="240" alt="开源实验室" /></a>
<a href="http://www.kymjs.com/"><img src="http://www.kymjs.com/image/kjemoji/KJEmoji.png" height="400" width="240" alt="开源实验室" /></a></p>

<h2 id="section-4">关于作者</h2>
<p>张涛，网名kymjs，在深圳的湖北人，开源中国移动开发工程师。<br />
个人博客地址:<a href="http://blog.kymjs.com">http://blog.kymjs.com</a></p>

<h2 id="section-5">开源协议</h2>
<p>本项目采用 Apache授权协议:<br /></p>

<p>Copyright (c) 2014, Zhang Tao.</p>

<p>Licensed under the Apache License, Version 2.0 (the “License”);
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at</p>

<pre><code>   http://www.apache.org/licenses/LICENSE-2.0
</code></pre>

<p>Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an “AS IS” BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</p>